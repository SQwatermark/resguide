<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>自定义玩家模型 | 森罗万象</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Minecraft资源包指南">
    <link rel="preload" href="/resguide/assets/css/0.styles.0db42bfe.css" as="style"><link rel="preload" href="/resguide/assets/js/app.c4390269.js" as="script"><link rel="preload" href="/resguide/assets/js/2.80b6fdeb.js" as="script"><link rel="preload" href="/resguide/assets/js/28.7753aae7.js" as="script"><link rel="prefetch" href="/resguide/assets/js/10.57283b57.js"><link rel="prefetch" href="/resguide/assets/js/11.d52a44a0.js"><link rel="prefetch" href="/resguide/assets/js/12.4d6a932d.js"><link rel="prefetch" href="/resguide/assets/js/13.9054ddf3.js"><link rel="prefetch" href="/resguide/assets/js/14.dbd706be.js"><link rel="prefetch" href="/resguide/assets/js/15.76b2a344.js"><link rel="prefetch" href="/resguide/assets/js/16.9d45cae7.js"><link rel="prefetch" href="/resguide/assets/js/17.105e0adf.js"><link rel="prefetch" href="/resguide/assets/js/18.22001e46.js"><link rel="prefetch" href="/resguide/assets/js/19.4a2f9f21.js"><link rel="prefetch" href="/resguide/assets/js/20.22401399.js"><link rel="prefetch" href="/resguide/assets/js/21.fd16642f.js"><link rel="prefetch" href="/resguide/assets/js/22.6975f04a.js"><link rel="prefetch" href="/resguide/assets/js/23.03ede89b.js"><link rel="prefetch" href="/resguide/assets/js/24.6c20c963.js"><link rel="prefetch" href="/resguide/assets/js/25.9307a6d7.js"><link rel="prefetch" href="/resguide/assets/js/26.cfcaa0af.js"><link rel="prefetch" href="/resguide/assets/js/27.aca16473.js"><link rel="prefetch" href="/resguide/assets/js/29.75bb02a8.js"><link rel="prefetch" href="/resguide/assets/js/3.05cd36ab.js"><link rel="prefetch" href="/resguide/assets/js/30.8a350920.js"><link rel="prefetch" href="/resguide/assets/js/31.142a5874.js"><link rel="prefetch" href="/resguide/assets/js/32.2feb3241.js"><link rel="prefetch" href="/resguide/assets/js/33.6a3d8b4a.js"><link rel="prefetch" href="/resguide/assets/js/34.cbaba137.js"><link rel="prefetch" href="/resguide/assets/js/35.d4da37ea.js"><link rel="prefetch" href="/resguide/assets/js/36.4404adea.js"><link rel="prefetch" href="/resguide/assets/js/37.6c868bb0.js"><link rel="prefetch" href="/resguide/assets/js/38.3b18d7ff.js"><link rel="prefetch" href="/resguide/assets/js/39.de6f2fe1.js"><link rel="prefetch" href="/resguide/assets/js/4.ef35e087.js"><link rel="prefetch" href="/resguide/assets/js/40.d4c943f2.js"><link rel="prefetch" href="/resguide/assets/js/41.143e160f.js"><link rel="prefetch" href="/resguide/assets/js/42.630f9c58.js"><link rel="prefetch" href="/resguide/assets/js/43.c2207748.js"><link rel="prefetch" href="/resguide/assets/js/44.9771bf8a.js"><link rel="prefetch" href="/resguide/assets/js/45.afaafbc3.js"><link rel="prefetch" href="/resguide/assets/js/46.72b547b6.js"><link rel="prefetch" href="/resguide/assets/js/47.7b24534c.js"><link rel="prefetch" href="/resguide/assets/js/48.b495dcf3.js"><link rel="prefetch" href="/resguide/assets/js/49.e4d57885.js"><link rel="prefetch" href="/resguide/assets/js/5.d76e9d19.js"><link rel="prefetch" href="/resguide/assets/js/50.95560cad.js"><link rel="prefetch" href="/resguide/assets/js/51.e2e16622.js"><link rel="prefetch" href="/resguide/assets/js/52.25dae66c.js"><link rel="prefetch" href="/resguide/assets/js/53.b6fa97e8.js"><link rel="prefetch" href="/resguide/assets/js/54.2db59de4.js"><link rel="prefetch" href="/resguide/assets/js/55.e1d55f6c.js"><link rel="prefetch" href="/resguide/assets/js/56.78fc681c.js"><link rel="prefetch" href="/resguide/assets/js/57.3ed8fd93.js"><link rel="prefetch" href="/resguide/assets/js/58.9c690cd6.js"><link rel="prefetch" href="/resguide/assets/js/59.9193f689.js"><link rel="prefetch" href="/resguide/assets/js/6.237493cc.js"><link rel="prefetch" href="/resguide/assets/js/60.241f262b.js"><link rel="prefetch" href="/resguide/assets/js/61.22ef91a7.js"><link rel="prefetch" href="/resguide/assets/js/62.2f4a2433.js"><link rel="prefetch" href="/resguide/assets/js/63.59b76280.js"><link rel="prefetch" href="/resguide/assets/js/64.4e0d1e38.js"><link rel="prefetch" href="/resguide/assets/js/65.179b92e2.js"><link rel="prefetch" href="/resguide/assets/js/66.e660c234.js"><link rel="prefetch" href="/resguide/assets/js/67.60024837.js"><link rel="prefetch" href="/resguide/assets/js/68.10a97f1c.js"><link rel="prefetch" href="/resguide/assets/js/69.a041907b.js"><link rel="prefetch" href="/resguide/assets/js/7.1518fdc8.js"><link rel="prefetch" href="/resguide/assets/js/70.d94a37e1.js"><link rel="prefetch" href="/resguide/assets/js/71.af7b65a8.js"><link rel="prefetch" href="/resguide/assets/js/72.521d933d.js"><link rel="prefetch" href="/resguide/assets/js/73.be894bc4.js"><link rel="prefetch" href="/resguide/assets/js/74.8ff2919c.js"><link rel="prefetch" href="/resguide/assets/js/75.92c907a0.js"><link rel="prefetch" href="/resguide/assets/js/76.51a5a27e.js"><link rel="prefetch" href="/resguide/assets/js/8.c846b15f.js"><link rel="prefetch" href="/resguide/assets/js/9.e8e283df.js">
    <link rel="stylesheet" href="/resguide/assets/css/0.styles.0db42bfe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/resguide/" class="home-link router-link-active"><!----> <span class="site-name">森罗万象</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/resguide/" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/resguide/optifinedoc/" class="nav-link">
  OptiFine文档
</a></div><div class="nav-item"><a href="https://www.mcbbs.net/thread-1079039-1-1.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛版
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/SQwatermark/ResGuideSource" target="_blank" rel="noopener noreferrer" class="nav-link external">
  下载示例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/resguide/" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/resguide/optifinedoc/" class="nav-link">
  OptiFine文档
</a></div><div class="nav-item"><a href="https://www.mcbbs.net/thread-1079039-1-1.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛版
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/SQwatermark/ResGuideSource" target="_blank" rel="noopener noreferrer" class="nav-link external">
  下载示例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/resguide/propaedeutics/" class="sidebar-link">准备</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/basic/" class="sidebar-heading clickable"><span>基础</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/resguide/vanilla/texture/animation/" class="sidebar-link">动态材质（前篇）</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/vanilla/model/" class="sidebar-heading clickable"><span>模型和渲染</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/resguide/vanilla/more-assets.html" class="sidebar-link">额外的资源文件</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/vanilla/sounds/" class="sidebar-heading clickable"><span>音效</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/vanilla/lang/" class="sidebar-heading clickable"><span>语言和文字</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/resguide/optifine/" aria-current="page" class="sidebar-link">OptiFine与MCPatcher</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/optifine/ctm/" class="sidebar-heading clickable"><span>CTM</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/resguide/optifine/cit/" class="sidebar-link">CIT</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/optifine/cem/" class="sidebar-heading clickable router-link-active open"><span>CEM</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/resguide/optifine/cem/random_entities.html" class="sidebar-link">随机实体材质（Random Entities）</a></li><li><a href="/resguide/optifine/cem/random_creeper.html" class="sidebar-link">苦力怕——生物群系</a></li><li><a href="/resguide/optifine/cem/cpm.html" aria-current="page" class="active sidebar-link">自定义玩家模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/resguide/optifine/cem/cpm.html#设置jvm启动参数" class="sidebar-link">设置JVM启动参数</a></li><li class="sidebar-sub-header"><a href="/resguide/optifine/cem/cpm.html#制作模型" class="sidebar-link">制作模型</a></li><li class="sidebar-sub-header"><a href="/resguide/optifine/cem/cpm.html#使用模型" class="sidebar-link">使用模型</a></li><li class="sidebar-sub-header"><a href="/resguide/optifine/cem/cpm.html#附：非官方说明文档" class="sidebar-link">附：非官方说明文档</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/optifine/animation/" class="sidebar-heading clickable"><span>动态材质（后篇）</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/optifine/colormap/" class="sidebar-heading clickable"><span>光与色</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/vanilla/texture/environment/" class="sidebar-heading clickable"><span>环境</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/vanilla/texture/gui/" class="sidebar-heading clickable"><span>GUI</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/resguide/optifine/shader/pbr.html" class="sidebar-link">视差和高光</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/resguide/appendix/" class="sidebar-heading clickable"><span>附录</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="自定义玩家模型"><a href="#自定义玩家模型" class="header-anchor">#</a> 自定义玩家模型</h1> <blockquote><p>示例用天子皮肤是几何的作品，<a href="https://www.mcbbs.net/thread-836920-1-1.html" target="_blank" rel="noopener noreferrer">发布帖<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>本章前置知识：</p> <p>​	自定义实体模型</p></blockquote> <p>OptiFine的cem功能不包含玩家模型，但玩家模型并非不可以自定义，但是其方法有不小的区别。</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>接下来的内容不属于严格意义上的资源包，甚至和resourcepacks文件夹没有任何关系。请酌情阅读。</p></div> <p>本节我们要在比那名居天子的旁边加上一块漂浮的要石：</p> <p><img src="https://i.loli.net/2020/07/28/ITBH1iV9NeKf75p.png" alt="image-20200717165243854"></p> <h2 id="设置jvm启动参数"><a href="#设置jvm启动参数" class="header-anchor">#</a> 设置JVM启动参数</h2> <p>第一步，<s>换上天子的皮肤</s>，在游戏JVM参数中添加以下两个配置，并启动游戏。</p> <div class="language- extra-class"><pre class="language-text"><code>-Dplayer.models.local=true -Dplayer.models.reload=true
</code></pre></div><p>上面这两个配置的第一个用于开启自定义玩家模型功能，第二个用于每五秒刷新一次模型以便测试。平时使用时，只需要添加第一个参数，测试模型时把第二个也加上吧。</p> <p><img src="https://i.loli.net/2020/07/28/lx8JDTZQNUAfG4Y.png" alt="image-20200717190159066"></p> <h2 id="制作模型"><a href="#制作模型" class="header-anchor">#</a> 制作模型</h2> <p>在.minecraft文件夹下新建名为playermodels的文件夹，然后在playermodels文件夹里新建items文件夹和users文件夹，其中items文件夹用于存放模型和材质，users文件加用于存放玩家信息。</p> <p><img src="https://i.loli.net/2020/07/28/GQeNRsHdb2tMwSa.png" alt="image-20200717172311583"></p> <p>因为我们要制作的是一块石头的模型，在items文件夹内新建文件夹名为stone，在stone文件夹内新建文本文件，命名为model.cfg，这本质上也是一个json格式的文件。这个文件包含有关模型的全部信息。</p> <p><strong>model.cfg</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// 这不是一个有效的配置文件，仅用于讲解概念</span>
  <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;PlayerItem&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 固定的，不要改</span>
  <span class="token property">&quot;usePlayerTexture&quot;</span><span class="token operator">:</span> &lt;<span class="token boolean">true</span>|<span class="token boolean">false</span>&gt;<span class="token punctuation">,</span> <span class="token comment">//是否使用玩家材质，一般填false</span>
  <span class="token property">&quot;textureSize&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>&lt;width&gt;<span class="token punctuation">,</span> &lt;height&gt;<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//材质的尺寸</span>
  <span class="token property">&quot;models&quot;</span><span class="token operator">:</span> <span class="token comment">//子模型列表</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token comment">//这是一个子模型</span>
      <span class="token property">&quot;baseId&quot;</span><span class="token operator">:</span> &lt;parent_id&gt;<span class="token punctuation">,</span> <span class="token comment">//父类模型的id</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> &lt;id&gt;<span class="token punctuation">,</span> <span class="token comment">//模型的id</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ModelBox&quot;</span><span class="token punctuation">,</span> <span class="token comment">//固定的，不要改</span>
      <span class="token property">&quot;attachTo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;head|body|leftArm|rightArm|leftLeg|rightLeg&gt;&quot;</span><span class="token punctuation">,</span> <span class="token comment">//附着到哪个部位</span>
	  <span class="token property">&quot;invertAxis&quot;</span><span class="token operator">:</span> &lt;axis_to_invert&gt;<span class="token punctuation">,</span> <span class="token comment">//反转轴</span>
      <span class="token property">&quot;translate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>&lt;x&gt;<span class="token punctuation">,</span> &lt;y&gt;<span class="token punctuation">,</span> &lt;z&gt;<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//平移</span>
      <span class="token property">&quot;rotate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>&lt;angle_x&gt;<span class="token punctuation">,</span> &lt;angle_y&gt;<span class="token punctuation">,</span> &lt;angle_z&gt;<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//旋转</span>
      <span class="token property">&quot;mirrorTexture&quot;</span><span class="token operator">:</span> &lt;axis_to_mirror&gt;<span class="token punctuation">,</span> <span class="token comment">//镜像材质，通常不需要</span>
      <span class="token property">&quot;scale&quot;</span><span class="token operator">:</span> &lt;scale&gt;<span class="token punctuation">,</span> <span class="token comment">//缩放比例，默认值为1.0</span>
      <span class="token comment">// 部件模型的定义，详见自定义实体模型部件</span>
      ...
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ...
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们先把一些默认的值填上，以便修改：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// 这不是一个有效的配置文件，仅用于讲解概念</span>
  <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;PlayerItem&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;usePlayerTexture&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;textureSize&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>&lt;width&gt;<span class="token punctuation">,</span> &lt;height&gt;<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//材质的尺寸</span>
  <span class="token property">&quot;models&quot;</span><span class="token operator">:</span> <span class="token comment">//子模型列表</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token comment">//不需要继承什么父类模型，所以不填baseId</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stone&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ModelBox&quot;</span><span class="token punctuation">,</span> <span class="token comment">//固定的，不要改</span>
      <span class="token property">&quot;attachTo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;body&quot;</span><span class="token punctuation">,</span> <span class="token comment">//附着到身体</span>
      <span class="token property">&quot;translate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//平移量</span>
      <span class="token property">&quot;rotate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//旋转</span>
      <span class="token property">&quot;scale&quot;</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token comment">//缩放比例，默认值为1.0</span>
      <span class="token comment">// 部件模型的定义，详见自定义实体模型部件</span>
      ...
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>自定义玩家模型的关键部分的格式也是cem模型，所以可以用BlockBench制作jpm模型，再手动修改文件。</p> <p>由于默认看这一小节的读者已经掌握了jpm模型的做法，我就不演示了。现在我有一个做好的jpm模型，是用MagicaVoxel做了体素然后用Voxel Importer插件导入Blockbench的，丑，但是能用。</p> <p><img src="https://i.loli.net/2020/07/28/T8QzMiOu9dZblXs.png" alt="image-20200717191627324"></p> <p>我们打开jpm文件，将boxes的内容整个复制下来，粘贴到model.cfg文件中，并将textureSize给抄上。</p> <p><img src="https://i.loli.net/2020/07/28/yR4vlwP1CY2hnDq.png" alt="image-20200717192208848"></p> <p><strong>model.cfg</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// 这不是一个有效的配置文件，仅用于讲解概念</span>
  <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;PlayerItem&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;usePlayerTexture&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;textureSize&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;models&quot;</span><span class="token operator">:</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stone&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ModelBox&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;attachTo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;body&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;translate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rotate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;scale&quot;</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;boxes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token property">&quot;coordinates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">-9</span><span class="token punctuation">,</span> <span class="token number">-5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token property">&quot;uvNorth&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token property">&quot;uvEast&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token property">&quot;uvSouth&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token property">&quot;uvWest&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token property">&quot;uvUp&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token property">&quot;uvDown&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
        ...<span class="token comment">//此处省略一大堆内容</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后在model.cfg旁边放上材质，我们注意到model.cfg本身只规范了材质的大小，没写具体用什么材质，也就是说我们可以给不同的玩家用不同的模型，也可以给不同玩家用相同的模型，不同的材质。</p> <p><img src="https://i.loli.net/2020/07/28/ol9fVp7UTQ6indO.png" alt="image-20200717192813160"></p> <h2 id="使用模型"><a href="#使用模型" class="header-anchor">#</a> 使用模型</h2> <p>我们的素材准备好了，接下来要让具体的玩家使用上模型和材质，进入先前创建的users文件夹，新建文件名为username.cfg，username换成自己的游戏id，我的游戏id是SQwatermark，所以文件名为SQwatermark.cfg。</p> <p><strong>username.cfg</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;items&quot;</span><span class="token operator">:</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stone&quot;</span><span class="token punctuation">,</span> <span class="token comment">//type和items文件夹下的子文件夹相对应</span>
      <span class="token comment">//</span><span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;model.cfg&gt;&quot;</span><span class="token punctuation">,</span> <span class="token comment">//填playermodels文件夹下的路径，默认路径就是我们刚刚用的路径。</span>
      <span class="token comment">//texture的默认路径看下面的文档，不建议用默认路径，因为默认路径的材质要命名为玩家名。</span>
	  <span class="token property">&quot;texture&quot;</span><span class="token operator">:</span> <span class="token string">&quot;items/stone/stone.png&quot;</span><span class="token punctuation">,</span> 
      <span class="token property">&quot;active&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">//一般填true就行了，填false就是不显示</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>进入游戏看看效果</p> <p><img src="https://i.loli.net/2020/07/28/M7I9aSogNFH16xp.png" alt="image-20200717192548190"></p> <p>要石的位置还不太理想，我们调整一下model.cfg，改一下偏移值：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;translate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
</code></pre></div><p>好的，达到想要的效果了，平时使用模型时，可以把jvm参数<code>-Dplayer.models.reload=true</code>删除了。</p> <p><img src="https://i.loli.net/2020/07/28/kpZJCPIu2X6q8Dy.png" alt="image-20200717194132139"></p> <p>我们再灵活地使用一下模型的继承，增加几个要石：</p> <p><img src="https://i.loli.net/2020/07/28/xDT6JK4nPtr219V.png" alt="image-20200717200221767"></p> <p>效果：</p> <p><img src="https://i.loli.net/2020/07/28/abJ7IezAT1DW29d.png" alt="image-20200717200132885"></p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>隐身药水对自定义的模型无效。</p></div> <h2 id="附：非官方说明文档"><a href="#附：非官方说明文档" class="header-anchor">#</a> 附：非官方说明文档</h2> <div class="language-json extra-class"><pre class="language-json"><code>######################################################################
# Add -Dplayer.models.local=<span class="token boolean">true</span> -Dplayer.models.reload=<span class="token boolean">true</span> to your JVM arguments
# https<span class="token operator">:</span><span class="token comment">//github.com/sp614x/optifine/blob/master/OptiFineDoc/doc/system_properties.txt</span>
# https<span class="token operator">:</span><span class="token comment">//github.com/sp614x/optifine/blob/master/OptiFineDoc/doc/cem_model.txt</span>
# https<span class="token operator">:</span><span class="token comment">//github.com/sp614x/optifine/blob/master/OptiFineDoc/doc/cem_part.txt</span>
######################################################################
# Custom Player Model Add-on
# User Config &lt;user&gt;.cfg
# Located in <span class="token string">&quot;.minecraft/playermodels/users&quot;</span>
# 
# Textures can be specified as<span class="token operator">:</span>
# 	<span class="token string">&quot;texture&quot;</span> - relative to folder <span class="token string">&quot;.minecraft/playermodels/&quot;</span>
# 	<span class="token string">&quot;folder/texture&quot;</span> - relative to folder <span class="token string">&quot;.minecraft/playermodels/&quot;</span>
# Models can be specified as<span class="token operator">:</span>
# 	<span class="token string">&quot;model&quot;</span> - relative to folder <span class="token string">&quot;.minecraft/playermodels/&quot;</span>
# 	<span class="token string">&quot;folder/model&quot;</span> - relative to folder <span class="token string">&quot;.minecraft/playermodels/&quot;</span>
# 	
# If nothing is set for the texture it'll use <span class="token string">&quot;.minecraft/playermodels/items/&lt;name set for type&gt;/users/&lt;user.png&gt;&quot;</span>
# If nothing is set for the model it'll use <span class="token string">&quot;.minecraft/playermodels/items/&lt;name set for type&gt;/model.cfg&quot;</span>
######################################################################
<span class="token punctuation">{</span>
  <span class="token property">&quot;items&quot;</span><span class="token operator">:</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;name&gt;&quot;</span><span class="token punctuation">,</span>						- Name of folder in <span class="token string">&quot;.minecraft/playermodels/items/&quot;</span>
	  <span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;model.cfg&gt;&quot;</span><span class="token punctuation">,</span>				- Part model file<span class="token punctuation">,</span> from which to load the part model definition
      <span class="token property">&quot;texture&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;texture.png&gt;&quot;</span><span class="token punctuation">,</span>			- Texture used by the model
      <span class="token property">&quot;active&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;true|false&gt;&quot;</span>				- True<span class="token operator">:</span> active for user<span class="token punctuation">,</span> False<span class="token operator">:</span> not active for user
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
	...
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

######################################################################
# Custom Player Model Add-on
# User Part Model &lt;model&gt;.cfg
# Located in <span class="token string">&quot;.minecraft/playermodels/items/&lt;name set for type&gt;&quot;</span>
######################################################################
<span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;PlayerItem&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;usePlayerTexture&quot;</span><span class="token operator">:</span> &lt;<span class="token boolean">true</span>|<span class="token boolean">false</span>&gt;<span class="token punctuation">,</span>										- Uses player texture if set to <span class="token boolean">true</span>
  <span class="token property">&quot;textureSize&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>&lt;width&gt;<span class="token punctuation">,</span> &lt;height&gt;<span class="token punctuation">]</span><span class="token punctuation">,</span>                                   - Texture size in pixels
  <span class="token property">&quot;models&quot;</span><span class="token operator">:</span>                                                             - List of models
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;baseId&quot;</span><span class="token operator">:</span> &lt;parent_id&gt;<span class="token punctuation">,</span>                                            - Model parent ID<span class="token punctuation">,</span> all parent properties are inherited
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> &lt;id&gt;<span class="token punctuation">,</span>                                                       - Model ID<span class="token punctuation">,</span> can be used to reference the model as parent
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ModelBox&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;attachTo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;head|body|leftArm|rightArm|leftLeg|rightLeg&gt;&quot;</span><span class="token punctuation">,</span>      - Player part to which the part model is attached
	  <span class="token property">&quot;invertAxis&quot;</span><span class="token operator">:</span> &lt;axis_to_invert&gt;<span class="token punctuation">,</span>                                   - Axis to invert<span class="token punctuation">,</span> for example <span class="token string">&quot;xyz&quot;</span> inverts all axes
      <span class="token property">&quot;translate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>&lt;x&gt;<span class="token punctuation">,</span> &lt;y&gt;<span class="token punctuation">,</span> &lt;z&gt;<span class="token punctuation">]</span><span class="token punctuation">,</span>                                     - Translate (pixels)
      <span class="token property">&quot;rotate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>&lt;angle_x&gt;<span class="token punctuation">,</span> &lt;angle_y&gt;<span class="token punctuation">,</span> &lt;angle_z&gt;<span class="token punctuation">]</span><span class="token punctuation">,</span>                      - Rotate (degrees)
      <span class="token property">&quot;mirrorTexture&quot;</span><span class="token operator">:</span> &lt;axis_to_mirror&gt;<span class="token punctuation">,</span>                                - Texture axis to mirror<span class="token punctuation">,</span> for example <span class="token string">&quot;uv&quot;</span> mirrors both U and V axis
      <span class="token property">&quot;scale&quot;</span><span class="token operator">:</span> &lt;scale&gt;<span class="token punctuation">,</span>                                                 - Render scale<span class="token punctuation">,</span> default is <span class="token number">1.0</span>
      # Part Model definition<span class="token punctuation">,</span> see <span class="token string">&quot;cem_part.txt&quot;</span> for details           - Part model definition (inline)
      ...
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ...
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/resguide/optifine/cem/random_creeper.html" class="prev">
        苦力怕——生物群系
      </a></span> <span class="next"><a href="/resguide/optifine/animation/inventory.html">
        猫猫——生存模式物品栏
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/resguide/assets/js/app.c4390269.js" defer></script><script src="/resguide/assets/js/2.80b6fdeb.js" defer></script><script src="/resguide/assets/js/28.7753aae7.js" defer></script>
  </body>
</html>
