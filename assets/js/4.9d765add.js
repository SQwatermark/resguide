(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{426:function(t,s,a){t.exports=a.p+"assets/img/image-20200707100615893.8eab3119.png"},427:function(t,s,a){t.exports=a.p+"assets/img/image-20200707102459192.5b4d0298.png"},428:function(t,s){t.exports="data:image/png;base64,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"},429:function(t,s){t.exports="data:image/png;base64,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"},430:function(t,s,a){t.exports=a.p+"assets/img/141229RvW-ItemLayerRenders.29b1b954.png"},498:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"tintindex"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tintindex"}},[t._v("#")]),t._v(" tintindex")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),n("p",[t._v("本节大部分内容是我阅读源码后给出的理解，如有谬误请批评指正。")]),t._v(" "),n("p",[t._v("本节参考的游戏版本为1.15.2")])]),t._v(" "),n("blockquote",[n("p",[t._v("前置知识：")]),t._v(" "),n("p",[t._v("​\tRGB颜色的概念")]),t._v(" "),n("p",[t._v("​\t如果有编程基础，会更容易理解一些")])]),t._v(" "),n("p",[t._v("当一个方块或物品设置了tintindex后，它将被试图用硬编码着色。")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("这意味着，如果你不想让已经人工上色的材质被硬编码着色搞得很难看，直接找到对应的模型，删去tintindex或者将tintindex的值改为-1（因为tintindex的默认值为-1）即可。")])]),t._v(" "),n("h2",{attrs:{id:"硬编码着色流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#硬编码着色流程"}},[t._v("#")]),t._v(" 硬编码着色流程")]),t._v(" "),n("p",[t._v("如果一个材质被硬编码着色，那么这个材质原本的颜色会被乘以一个颜色乘数。得到一个新的颜色。")]),t._v(" "),n("p",[t._v("以云杉树叶为例，它的硬编码颜色是6396257，这是一个十进制值，对应着颜色(97,153,97)")]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("展开查看图片")]),t._v(" "),n("p",[n("img",{attrs:{src:a(426),alt:"image-20200707100615893"}})])]),t._v(" "),n("p",[t._v("然后将(97,153,97)除以255，得到颜色乘数(0.38039216, 0.6, 0.38039216)")]),t._v(" "),n("p",[t._v("云杉树叶的材质实际上是一张灰度图，对于它的每一个点，R、G、B三个值都相同。假如有一个像素的颜色为(179,179,179)，它的RGB值与颜色乘数分别相乘，得到(179×0.38039216, 179×0.6, 179×0.38039216)，保留整数为(68,107,68)")]),t._v(" "),n("p",[t._v("结果就是，这个像素被染成了如下颜色：")]),t._v(" "),n("details",{staticClass:"custom-block details"},[n("summary",[t._v("展开查看图片")]),t._v(" "),n("p",[n("img",{attrs:{src:a(427),alt:"image-20200707102459192"}})])]),t._v(" "),n("p",[t._v("云杉树叶的每一个像素都经过了这样的乘法，最终成为我们在游戏中看到的颜色。")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("我们可以这样理解：云杉树叶的硬编码颜色决定了它的色相和饱和度，而它的灰度图材质决定了每个像素的明度。（但明度的标准定义是RGB三个值的均值，这样说只是便于理解）")])]),t._v(" "),n("p",[t._v("上面提到，材质设置了tintindex后，它将被"),n("strong",[t._v("试图")]),t._v("用硬编码着色。事实上对于大部分方块和物品，并不存在对应的硬编码颜色，如果这些方块或物品的材质被设置了tintindex，获得的颜色乘数其实为(1,1,1)，假设材质上有一点原本的颜色为(a,b,c)，与此颜色乘数相乘后依然是(a,b,c)，什么都不会改变。")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),n("p",[t._v("请勿混淆tintindex和硬编码颜色，这两个是完全不同的概念。硬编码颜色是在Minecraft程序内部定义的，玩家通常无法修改。tintindex只是决定了材质是否要使用硬编码着色，这是玩家可以直接修改的。")])]),t._v(" "),n("h2",{attrs:{id:"tintindex的不同取值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tintindex的不同取值"}},[t._v("#")]),t._v(" tintindex的不同取值")]),t._v(" "),n("p",[t._v("我们知道tintindex决定了材质是否要使用硬编码着色，但如果tintindex只有这个作用，那为什么它不是一个布尔值（true或false）而是一个整数？")]),t._v(" "),n("p",[t._v("对于方块似乎是这样的，但是对于部分物品，tintindex的具体取值起到了作用。")]),t._v(" "),n("p",[t._v("被绝大部分物品继承的generated有五个渲染层，分别是layer0，layer1，layer2，layer3，layer4，它们的tintindex分别为0,1,2,3,4。")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),n("p",[t._v("原版模型最多使用了layer0和layer1，但另外几个渲染层是实际存在且可以使用的（在OptiFine的自定义物品材质章节中我们将看到渲染层的用法）。")])]),t._v(" "),n("p",[t._v("以药水为例：")]),t._v(" "),n("p",[n("strong",[t._v("potion.json")])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"parent"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"item/generated"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"textures"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"layer0"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"item/potion_overlay"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"layer1"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"item/potion"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("我们看到药水有两个渲染层，截个图给大家看一下分别是什么：")]),t._v(" "),n("p",[n("strong",[t._v("potion.png")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(428),alt:"image-20200707115104443"}})]),t._v(" "),n("p",[n("strong",[t._v("potion_overlay.png")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(429),alt:"image-20200707115206990"}})]),t._v(" "),n("p",[t._v("很显然，potion.png是瓶子，不会被染色，而potion_overlay.png是瓶子里的药水，而药水有各种各样的颜色。")]),t._v(" "),n("p",[t._v("在Minecraft内部的实现：")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" tintindex "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PotionUtils")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getColor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("即判断tintindex是否大于0，如果大于0（对应layer1），返回的颜色乘数为-1（转换后为(1,1,1)，即不染色）；如果不大于0（对应layer0），返回药水的颜色乘数（即染色）。")]),t._v(" "),n("p",[t._v("而刷怪蛋的两个渲染层都会被染色（下图来源于一个"),n("a",{attrs:{href:"http://greyminecraftcoder.blogspot.com/2013/08/rendering-items.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Blog"),n("OutboundLink")],1),t._v("）：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(430),alt:"img"}})]),t._v(" "),n("p",[t._v("受到类似的规则影响的物品还有"),n("strong",[t._v("皮革盔甲，焰火之星，地图，药箭")]),t._v("等。")]),t._v(" "),n("blockquote",[n("p",[t._v("深入了解：")]),t._v(" "),n("p",[t._v("​\t光与色（敬请期待）")])]),t._v(" "),n("p",[n("br"),n("br"),n("Vssue")],1)])}),[],!1,null,null,null);s.default=e.exports}}]);