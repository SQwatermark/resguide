(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{489:function(t,e,n){"use strict";n.r(e);var i=n(27),r=Object(i.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("center",[n("h1",[t._v("自定义光照贴图")]),n("p",[t._v("Custom Lightmaps")])]),t._v(" "),n("h2",{attrs:{id:"概述丨overview"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#概述丨overview"}},[t._v("#")]),t._v(" 概述丨Overview")]),t._v(" "),n("p",[t._v("OptiFine让你可以自定义游戏中的光照。\n基于McPatcher的自定义光照贴图")]),t._v(" "),n("p",[t._v("一个非常好的教程：https://www.mcbbs.net/thread-1014633-1-1.html")]),t._v(" "),n("p",[n("strong",[t._v("原版光照是如何工作的")])]),t._v(" "),n("p",[t._v("每个方块都有两个范围为0到15的光照等级(light values)，一个是天空亮度(sky brightness)，另一个是方块亮度(torch brightness)。\n被阳光直射的方块具有值为15的天空亮度，与之毗邻的位于阴影下的方块的天空亮度为14，以此类推。\n深埋地下，且远离任何能看到天空的方块的方块的天空亮度为0。方块亮度也类似。\n一个火把方块的光照等级为14 (荧石为15) ，每远离一个方块，光照等级下降1。")]),t._v(" "),n("p",[t._v("为了生成你在游戏中实际看见的光照，Minecraft使用了一张16x16的光照贴图。它的两个轴分别对应两个种类的16个光照等级。\n如果一个方块具有方块亮度x和天空亮度y，那么坐标 (x,y) 就会作为它的光照贴图坐标。\n光照贴图不在游戏的任何文件夹内，但每一帧都会生成。\n两个变量影响光照贴图，一天中的时间和火把的闪烁。\n通过让整个光照贴图变暗或变亮，Minecraft实现了黄昏/黎明的过渡和火把闪烁(torch flicker)，而不是通过调整天空/火把的亮度。")]),t._v(" "),n("h2",{attrs:{id:"自定义光照丨custom-lighting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自定义光照丨custom-lighting"}},[t._v("#")]),t._v(" 自定义光照丨Custom lighting")]),t._v(" "),n("p",[t._v("为了创建自定义光照，你需要为每个世界新建一个光照贴图调色板：")]),t._v(" "),n("blockquote",[n("p",[t._v("下界：assets/minecraft/optifine/lightmap/world-1.png")]),t._v(" "),n("p",[t._v("主世界：assets/minecraft/optifine/lightmap/world0.png")]),t._v(" "),n("p",[t._v("末地：assets/minecraft/optifine/lightmap/world1.png")])]),t._v(" "),n("p",[t._v("对于overworld(主世界)你还可以创建可选的降雨和雷暴天气调色板：")]),t._v(" "),n("blockquote",[n("p",[t._v("主世界降雨：assets/minecraft/optifine/lightmap/world0_rain.png")]),t._v(" "),n("p",[t._v("主世界雷暴：assets/minecraft/optifine/lightmap/world0_thunder.png")])]),t._v(" "),n("p",[t._v("只有在定义了主世界调色板时，降雨和雷暴天气调色板才生效。")]),t._v(" "),n("p",[t._v("每个调色板都可以是任意宽度，但高度必须是32或64像素。如果高度为64像素，下半部分将用于夜视效果，这将于稍后讨论。\n在32行像素中，上面16行代表阳光，下面16行代表火把的光。\n两个列，上半部分的16个像素和下半部分的16个像素，被选择来形成最终用于渲染的16x16光照图的轴线。")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://attachment.mcbbs.net/forum/201911/14/102150fthud0hvbucotdvb.png",alt:"img"}}),t._v("\n模板: images/lightmap_template.png")]),t._v(" "),n("p",[t._v("蓝色代表夜晚,橙色代表黄昏/黎明,青色代表白天,黄色代表闪电\n在上半部分，左边代表夜晚，右边代表白天，其间有黄昏/黎明的过渡。\n调色板的最右边代表闪电。重申，调色板没有指定宽度，\n但是更宽意味着过渡中更多的细节空间。")]),t._v(" "),n("p",[t._v("译注：OptiFine提供的示例看不出对应的颜色了，可以参考下面这张图片，来源于"),n("a",{attrs:{href:"https://www.mcbbs.net/plugin.php?id=link_redirect&target=https%3A%2F%2Fbitbucket.org%2Fprupe%2Fmcpatcher%2Fwiki%2FLightmaps",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://bitbucket.org/prupe/mcpatcher/wiki/Lightmaps"),n("OutboundLink")],1),t._v(" "),n("img",{attrs:{src:"https://attachment.mcbbs.net/forum/201911/14/102201q619dfdfw962wv9d.png",alt:"img"}})]),t._v(" "),n("p",[t._v("火把的工作原理类似，但在这种情况下，x坐标只是一个模拟火把闪烁的随机值。\n沿x轴的变化将决定火炬闪烁有多明显。\n要使火把光线完全稳定，没有闪烁，就要让每一行的所有像素具有相同的颜色。")]),t._v(" "),n("p",[t._v('光照贴图在三个世界 (主世界, 下界, 末地) 中的工作方法都是一样的，但是由于在下界和末地没有昼夜，\n"一天中的时间(time of day)" 值为常量。对于这些世界你可以简单地给出0-15行相同的颜色。')]),t._v(" "),n("h2",{attrs:{id:"夜视效果丨nightvision-effect"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#夜视效果丨nightvision-effect"}},[t._v("#")]),t._v(" 夜视效果丨Nightvision effect")]),t._v(" "),n("p",[t._v("在原版游戏中，夜视效果是通过 1.0 / max(R,G,B) 缩放RGB值计算的。\n例如，(0.2, 0.3, 0.6) 在除以 0.6之后会变亮为 (0.333, 0.5, 1.0)。\n你可以用高度为64像素而不是32像素的自定义光照贴图覆盖这个行为。\n需要提供四种调色板而不是两种: normal sun, normal torch, nightvision sun, nightvision torch.\n除了使用32-47行和48-63行，生成光照贴图的方式完全相同。")]),t._v(" "),n("h2",{attrs:{id:"参考文献丨references"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考文献丨references"}},[t._v("#")]),t._v(" 参考文献丨References")]),t._v(" "),n("p",[t._v("https://bitbucket.org/prupe/mcpatcher/wiki/Lightmaps")])],1)}),[],!1,null,null,null);e.default=r.exports}}]);